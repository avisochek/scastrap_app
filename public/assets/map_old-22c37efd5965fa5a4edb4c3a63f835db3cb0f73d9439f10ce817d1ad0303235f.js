function newMap(e){map=new google.maps.Map(document.getElementById("map"),{center:e,scrollwheel:!1,zoom:8})}function plotMap(e){map=new google.maps.Map(document.getElementById("map"),{mapTypeControl:!1}),latlngbounds=new google.maps.LatLngBounds,issue_markers.forEach(function(e){e.setMap(null)}),cluster_markers.forEach(function(e){e.setMap(null)}),issue_markers=[],cluster_markers=[],e.forEach(function(s){var o=new google.maps.LatLngBounds;issues=s.issues,issues.forEach(function(e){var s=new google.maps.LatLng(e.lat,e.lng);latlngbounds.extend(s),o.extend(s),issue_markers.push(new google.maps.Marker({sName:e.id_,position:s,map:map,icon:{path:google.maps.SymbolPath.CIRCLE,fillOpacity:.1,fillColor:"blue",strokeWeight:0,scale:10}}))}),clusterLoc=new google.maps.LatLng(o.getCenter().lat(),o.getCenter().lng());var a=new MarkerWithLabel({sName:e.id_,zIndex:1e4,visible:!1,position:clusterLoc,map:map,labelContent:String(s.issues.length),labelAnchor:new google.maps.Point(15,15),labelClass:"labels",labelStyle:{opacity:1},labelInBackground:!1,icon:{path:google.maps.SymbolPath.CIRCLE,fillOpacity:.5,fillColor:"black",strokeWeight:2,scale:20}});a.addListener("click",function(){focusCluster(s)}),cluster_markers.push(a)}),map.fitBounds(latlngbounds)}function goToHeatMapView(){issue_markers.forEach(function(e){e.setIcon({path:google.maps.SymbolPath.CIRCLE,fillOpacity:.1,fillColor:"blue",scale:10,strokeWeight:0})}),cluster_markers.forEach(function(e){e.setVisible(!1)}),map.fitBounds(latlngbounds)}function goToClusterView(e){issue_ids=issue_markers.map(function(e){return e.sName}),e.forEach(function(e){clusterColor="#"+Math.random().toString(16).slice(2,8),e.issues.forEach(function(e){var s=issue_ids.indexOf(e.id_);issue_markers[s].setIcon({path:google.maps.SymbolPath.CIRCLE,fillOpacity:1,fillColor:clusterColor,strokeWeight:0,scale:10})})}),cluster_markers.forEach(function(e){e.setVisible(!0)}),map.fitBounds(latlngbounds)}function focusCluster(e){var s=new google.maps.LatLngBounds;e.issues.forEach(function(e){var o=new google.maps.LatLng(e.lat,e.lng);s.extend(o)}),map.fitBounds(s)}var map,issue_markers=[],cluster_markers=[],latlngbounds;