function clustersOverlay(t){this._map=t,this._clusters=[],this._container=document.createElement("div"),this._container.id="clusterslayer",this.addCluster=function(t){this._clusters.push(t)}}var overlay;clustersOverlay.prototype=new google.maps.OverlayView,clustersOverlay.prototype.createClusterIcon=function(t){var e=document.createElement("canvas");e.id="clustericon_"+t.id_,this._radius=10*Math.pow(t.count,1/3),e.width=e.height=2*this._radius,e.style.width=e.width+"px",e.style.height=e.height+"px",e.style.left=t.xy.x-this._radius+"px",e.style.top=t.xy.y-this._radius+"px",e.style.position="absolute",e.style.borderRadius=this._radius+"px";var i=e.width/2,s=e.height/2,r=e.getContext("2d"),o=20;return r.font=o+"px Georgia",textWidth=r.measureText(String(t.count)).width,r.fillStyle=t.color,r.fillText(String(t.count),e.width/2-textWidth/2,e.height/2+o/3),r.globalAlpha=.3,r.beginPath(),r.arc(i,s,this._radius,0,2*Math.PI,!0),r.fill(),google.maps.event.addDomListener(e,"mouseover",function(){$(e).css("cursor","pointer")}),google.maps.event.addDomListener(e,"click",function(){drag||cm.goToCluster(t),drag=!1}),e},clustersOverlay.prototype.ensureIssueIcon=function(t){var e=document.getElementById("clustericon_"+t.id_);return e?(e.style.left=t.xy.x-e.width/2+"px",e.style.top=t.xy.y-e.height/2+"px",e):this.createClusterIcon(t)},clustersOverlay.prototype.onAdd=function(){var t=this.getPanes();t.overlayMouseTarget.appendChild(this._container)},clustersOverlay.prototype.draw=function(){var t=(this._map.getZoom(),this.getProjection()),e=this._container;this._clusters.forEach(function(i,s){i.xy=t.fromLatLngToDivPixel(i.position);var r=clusterMap.ensureIssueIcon(i);e.appendChild(r)})},clustersOverlay.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container)};