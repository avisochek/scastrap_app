<div id="home">
  <div id="sidebar">
    <div class="collapse"></div>
    <div id="streets">
      <div id="streetsTitle"><h1>Street Ranking</h1></div>
      <!-- <div id="streetsPlaceHolder">
        <h1>Streets</h1>
        <p>A street ranking will show here
          when you select a city and a request
          type from the input</p>
      </div> -->
      <div id="streetsContent" class="sidebarContent" data-bind="foreach:streets">
        <div class="streetRow" data-bind="click:$root.goToStreetPage">
          <div class="rank"><h1 class="streetText" data-bind="text:rank"></h1></div>
          <div class="name"><h2 data-bind="text:name"></h2></div>
        </div>
      </div>
      <div id="streetsFooter">
        <div id="streetsExport"><h1>Export</h1></div>
      </div>
    </div>
    <div id="issues">
      <div id="issuesTitle"><H1>Issue Details</H1></div>

      <div id="issuesPlaceHolder"
        data-bind="visible:!issues()">
        <p>Details and links to individual issues will show
          here when a cluster center is selected
          from the cluster map.
        </p>
      </div>
      <div id="issuesContent" class="sidebarContent"
          data-bind="foreach:issues,
            visible:typeof issues() != 'undefined'">
        <div class="issueRow" \
          data-bind="attr:{id:id_},
          event:{mouseenter:$root.highliteIssue,
            mouseleave:$root.unhighliteIssue}">
          <a target="blank" class="issueLink",
            data-bind="attr:{
              href:'https://seeclickfix.com/issues/'+String(id_)}">
            <div class="issueContent">
              <div class="issueDate">
                <!-- <h2 class="issueMonth" data-bind="text:month"></h2> -->
                <!-- <h2 class="issueYear" data-bind="text:year"></h2> -->
              </div>
              <h3 class="issueSummary" data-bind="text:summary"></h3>
              <p class="issueDescription" data-bind="text:description"></p>
            </div>
          </a>
        </div>
      </div>
      <div id="issuesFooter">
        <div id="issuesExport">
          <h1>Export<h1>
        </div>
      </div>
    </div>
  </div>
  <div id="main">
    <div id="topRow">
      <div id="streetsToggle" class="icon"><img id="streetsIcon" src="/assets/street_icon.png"/></div>
      <div id="title"><img id="titleImage" src="/assets/scastrap_image.png"/></div>
      <div id="help" class="helpLink icon">
        <img id="helpIcon" src="/assets/help_icon.png"/>
      </div>
    </div>
    <div id="midRow">
      <div id="issuesToggle" class="icon"><img id="issuesToggleIcon" src="/assets/issues_icon.png"/></div>
      <div class="ui-widget">
        <select id="combobox" type="text" data-bind="options:requestTypes,optionsText:'full_name',optionsValue:'id_'">
          <!-- <option data-bind="text:full_name"></option> -->
        </select>
      </div>
      <div id="mapToggle" >
        <h3 class="mapToggleText" data-bind="if:mapMode()=='clusterMap'">Heat Map</h3>
        <h3 class="mapToggleText" data-bind="if:mapMode()=='heatMap'">Cluster Map</h3>
      </div>
    </div>
    <div id="content" data-bind="css:location">
      <div id="map">
      </div>
    </div>
    <div id="bottomRow">
      <p class="pageLink aboutLink">about</p>
      <p class="pageLink helpLink">help</p>
      <p class="pageLink contactLink">feedback</p>
    </div>
  </div>
</div>
<div id="aboutPage" class="page">
  <div class="pageTopRow">
    <div class="back icon">
      <img class="backIcon" src="/assets/back_icon.png"></img>
    </div>
    <h1 class="pageTitle">About</h1>
    <div class="spaceHolder icon"></div>
  </div>
  <div class="pageContent">
    <p>
      Scastrap is an open source data mining and visualization
      project designed to help local governments determine where
      resources are most needed.
    </p>
    <p>
      The project uses data from the See Click Fix API and features
      a heatMap, a set of clusters, and a street ranking for all
      open and acknowledged issues as of the last update.
    </p>
    <p>Contibutors:</p>
    <p>Allan Visochek, Lead Developer</p>
    <p>Tanzim Hassan, Data Analyst</p>
    <p>Ziqiang Guan, Developer</p>
    <p>Carys Snyder, Designer</p>
  </div>
</div>
<div id="helpPage" class="page">
  <div class="pageTopRow">
    <div class="back icon">
      <img class="backIcon" src="/assets/back_icon.png"></img>
    </div>
    <h1 class="pageTitle">Help</h1>
    <div class="spaceHolder"></div>
    <div class="pageContent">
      <p>
        Scastrap currently supports three primary features:
          <li>A map of clustered issues</li>
          <li>A heatmap</li>
          <li>A ranking of</li>
      </p>

      <h3>Cluster Map</h3>
      <p>
        Clustering allows
      </p>
      <p>
        The cluster map is shown by default after a request
        type is selected from the combobox. Each circle
        represents cluster, which is a collection of issues
        that are in the same area. The number on each circle
        and the size represent the number of issues in each cluster.
      </p>
      <p>
        Clicking a cluster will display a map of all of the
        issues in that cluster, When a cluster is clicked,

        The clusters panel can be opened
      </p>
      <p>
        The clusters for this application are obtained using
        markov clustering as part of a data preprocessing pipeline.
      </p>
      <h3></h3>
    </div>
  </div>
  <div class="pageContent">
  </div>
</div>
<div id="streetPage" class="page">
  <div class="pageTopRow">
    <div class="back icon">
      <img class="backIcon" src="/assets/back_icon.png"></img>
    </div>
    <h1 class="pageTitle" data-bind="text:chosenStreetName"></h1>
    <div class="spaceHolder"></div>
  </div>
  <div class="pageContent">
    <div data-bind="foreach:chosenStreetStats">
      <p data-bind="text:name"></p>
      <p data-bind="text:count"></p>
    <div>
  </div>
</div>
<div id="issuePage" class="page">
  <div class="pageTopRow">
    <div class="back icon">
      <img class="backIcon" src="/assets/back_icon.png"></img>
    </div>
    <h1 class="pageTitle">Issue!</h1>
    <div class="spaceHolder"></div>
  </div>
</div>
